import streamlit as st
import pandas as pd

st.title("üìä –õ—é–±–∏–º–∏ –Ω–µ—â–∞ - –∫–ª–∞—Å–Ω–∞ –∞–Ω–∫–µ—Ç–∞")

# 1. Initialize data (as seen in your image)
if "colors" not in st.session_state:
    st.session_state.colors = {"–ß–µ—Ä–≤–µ–Ω": 0, "–°–∏–Ω": 0, "–ó–µ–ª–µ–Ω": 0, "–ñ—ä–ª—Ç": 0}

if "sports" not in st.session_state:
    st.session_state.sports = {"–§—É—Ç–±–æ–ª": 0, "–ë–∞—Å–∫–µ—Ç–±–æ–ª": 0, "–í–æ–ª–µ–π–±–æ–ª": 0, "–ü–ª—É–≤–∞–Ω–µ": 0}

st.subheader("–ò–∑–±–µ—Ä–∏ –ª—é–±–∏–º–∏ –Ω–µ—â–∞")

# 2. Input widgets
color = st.selectbox("–õ—é–±–∏–º —Ü–≤—è—Ç:", list(st.session_state.colors.keys()))
sport = st.selectbox("–õ—é–±–∏–º —Å–ø–æ—Ä—Ç:", list(st.session_state.sports.keys()))

# 3. Logic to update counts when button is clicked
if st.button("–ì–ª–∞—Å—É–≤–∞–π"):
    st.session_state.colors[color] += 1
    st.session_state.sports[sport] += 1
    st.success("–¢–≤–æ—è—Ç –≥–ª–∞—Å –±–µ—à–µ –∏–∑–ø—Ä–∞—Ç–µ–Ω!")

# 4. Display Results
st.divider()
st.subheader("–¢–µ–∫—É—â–∏ —Ä–µ–∑—É–ª—Ç–∞—Ç–∏")

col1, col2 = st.columns(2)

with col1:
    st.write("**–¶–≤–µ—Ç–æ–≤–µ**")
    color_df = pd.DataFrame(st.session_state.colors.items(), columns=["–¶–≤—è—Ç", "–ì–ª–∞—Å–æ–≤–µ"])
    st.bar_chart(color_df.set_index("–¶–≤—è—Ç"))

with col2:
    st.write("**–°–ø–æ—Ä—Ç–æ–≤–µ**")
    sport_df = pd.DataFrame(st.session_state.sports.items(), columns=["–°–ø–æ—Ä—Ç", "–ì–ª–∞—Å–æ–≤–µ"])
    st.bar_chart(sport_df.set_index("–°–ø–æ—Ä—Ç"))
